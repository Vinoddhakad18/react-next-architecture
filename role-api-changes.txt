CHANGES NEEDED FOR apps/web/src/app/admin/roles/page.tsx:

1. Replace handleDeleteRole function (lines 240-252):
   Change from:
   const handleDeleteRole = () => {
     if (!roleToDelete) return;
     setDeletingRoleId(roleToDelete.id);
     setError(null);
     // Simulate async operation
     setTimeout(() => {
       setRoles((prev) => prev.filter((role) => role.id !== roleToDelete.id));
       handleCloseDeleteModal();
       setDeletingRoleId(null);
     }, 300);
   };

   Change to:
   const handleDeleteRole = async () => {
     if (!roleToDelete) return;
     setDeletingRoleId(roleToDelete.id);
     setError(null);
     try {
       const result = await roleService.deleteRole(roleToDelete.id);
       if (!result.success || result.error) {
         setError(result.error?.message || 'Failed to delete role');
         setDeletingRoleId(null);
         return;
       }
       // Refresh the roles list
       await fetchRoles();
       handleCloseDeleteModal();
       setDeletingRoleId(null);
     } catch (err) {
       setError(err instanceof Error ? err.message : 'An unexpected error occurred');
       setDeletingRoleId(null);
     }
   };

2. Replace handleSubmit function (lines 265-308):
   Change the function signature from:
   const handleSubmit = (e: React.FormEvent) => {
   
   To:
   const handleSubmit = async (e: React.FormEvent) => {
   
   And replace the setTimeout block with:
   try {
     if (isEditMode && editingRoleId !== null) {
       // Update existing role
       const result = await roleService.updateRole(editingRoleId, {
         name: formData.name.trim(),
         description: formData.description.trim() || undefined,
         status: formData.is_active,
       });
       if (!result.success || result.error) {
         setSubmitError(result.error?.message || 'Failed to update role');
         setIsSubmitting(false);
         return;
       }
       // Refresh the roles list
       await fetchRoles();
       handleCloseModal();
     } else {
       // Create new role
       const result = await roleService.createRole({
         name: formData.name.trim(),
         description: formData.description.trim() || undefined,
         status: formData.is_active,
       });
       if (!result.success || result.error) {
         setSubmitError(result.error?.message || 'Failed to create role');
         setIsSubmitting(false);
         return;
       }
       // Refresh the roles list
       await fetchRoles();
       handleCloseModal();
     }
     setIsSubmitting(false);
   } catch (err) {
     setSubmitError(err instanceof Error ? err.message : 'An unexpected error occurred');
     setIsSubmitting(false);
   }




